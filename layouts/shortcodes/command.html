{{- $class := .Get "class" -}}
{{ if (.Get "command") }}
<div class="highlight command">
    {{ if (.Get "custom") }}
    {{- $custom := .Get "custom" }}
    <pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span class="custom {{ $class }}">{{ $custom }} </span>{{ .Get "command" }}<span class="output">{{ .Inner }}</span></code></pre>
    {{ else }}
    <pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span class="command {{ $class }}">{{ .Get "command" }}</span><span class="output">{{ .Inner }}</span></code></pre>
    {{ end }}
</div>
{{ else }}
<div class="highlight command">
    {{ if (.Get "custom") }}
    {{- $custom := .Get "custom" }}
    <pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code>{{ range split .Inner "\n" }}{{ if ne . "" }}<span class="custom {{ $class }}">{{ $custom }} </span>{{ printf "%s\n" . }}{{ end }}{{ end }}</code></pre>
    {{ else }}
    <pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code>{{ range split .Inner "\n" }}{{ if ne . "" }}<span class="command {{ $class }}">{{ printf "%s\n" . }}</span>{{ end }}{{ end }}</code></pre>
    {{ end }}
</div>
{{ end }}